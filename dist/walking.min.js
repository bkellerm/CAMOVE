var Walking=function(){var t="walking",e="static",n=new Array,i=(new Date).getTime(),o=!1,S=function(){W.CSS&&D(t),void 0!==W.onWalking&&W.onWalking()},_=function(){W.CSS&&D(e),void 0!==W.onStatic&&W.onStatic()},W={onWalking:void 0,onStatic:void 0,onStep:void 0,STEP_SENSITIVITY:.8,SPEED_S_W:1,WINDOW_S_W:1e4,SPEED_W_S:.8,WINDOW_W_S:1e4,MIN_DELAY_START_NEXT_STEP:90,CSS:!1};arguments[0]&&"object"==typeof arguments[0]&&E(arguments[0]),$("*").addClass(e),window.DeviceMotionEvent&&window.DeviceOrientationEvent&&window.addEventListener("devicemotion",function(t){!function(t){var e=t.acceleration.y,o=(new Date).getTime();n.length>0&&n[0][1]<(new Date).getTime()-Math.max(W.SPEED_S_W*W.WINDOW_S_W,W.SPEED_W_S*W.WINDOW_W_S)&&n.shift();e>W.STEP_SENSITIVITY&&i+W.MIN_DELAY_START_NEXT_STEP<=o&&(a=!0);e<-W.STEP_SENSITIVITY&&1==a&&(0,a=!1,n.push([o-i,o]),i=o,void 0!==W.onStep&&W.onStep())}(t),function(){var t=(new Date).getTime();if(o&&r+W.WINDOW_W_S<=t){var e=n.filter(function(e){return e[1]>=t-W.WINDOW_W_S}).length;e<=W.SPEED_W_S*W.WINDOW_W_S/1e3&&(_(),o=!1,r=t)}else if(r+W.WINDOW_S_W<=t){var e=n.filter(function(e){return e[1]>=t-W.WINDOW_S_W}).length;e>=W.SPEED_S_W*W.WINDOW_S_W/1e3&&(S(),o=!0,r=t)}}()},!1),this.set=function(){arguments[0]&&"object"==typeof arguments[0]&&E(arguments[0])},this.get=function(t){return W[t]},this.getAll=function(){return W};var a=!1;var r=(new Date).getTime();function E(t){for(property in t)t.hasOwnProperty(property)&&(W[property]=t[property])}function D(n,i){n!==e&&n!==t||($("*").removeClass(e+" "+t),$("*").addClass(n))}};