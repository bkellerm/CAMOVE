var Hand=function(){var o="hand-left",n="hand-right",t="hand-top",e="hand-middle",i="hand-bottom",r={DEFAULT_HAND:n,NUM_SWIPES_NEEDED:2,CW_CC_TOL:0,CW_CC_RATIO:.6,MIN_SWIPE_DIST:30,onLeft:void 0,onRight:void 0,DEFAULT_HAND_SECTION:e,TOP_SECTION_RATIO:.3,MIDDLE_SECTION_RATIO:0,BOTTOM_SECTION_RATIO:.7,NUM_TOUCHES_NEEDED:5,onBottom:void 0,onMiddle:void 0,onTop:void 0,CSS:!1},c="",E=0,_=[],T=r.DEFAULT_HAND,u=r.DEFAULT_HAND_SECTION,d=0,C=0,a=0,f=function(){if(r.CSS&&D(i),void 0!==r.onBottom)try{r.onBottom()}catch(o){console.log("Your onBottom function has following error:\n"+o)}},l=function(){if(r.CSS&&D(e),void 0!==r.onMiddle)try{r.onMiddle()}catch(o){console.log("Your onBottom function has following error:\n"+o)}},O=function(){if(r.CSS&&D(t),void 0!==r.onTop)try{r.onTop()}catch(o){console.log("Your onBottom function has following error:\n"+o)}},S=function(){if(r.CSS&&D(o),void 0!==r.onLeft)try{r.onLeft()}catch(o){console.log("Your onBottom function has following error:\n"+o)}},h=function(){if(r.CSS&&D(n),void 0!==r.onRight)try{r.onRight()}catch(o){console.log("Your onBottom function has following error:\n"+o)}};if(arguments[0]&&"object"==typeof arguments[0]&&s(arguments[0]),$("*").addClass(r.DEFAULT_HAND),$("*").addClass(r.DEFAULT_HAND_SECTION),"ontouchstart"in document.documentElement){var I=$("body")[0];I.addEventListener("touchstart",function(o){_.push(N(o.changedTouches[0]))},!1),I.addEventListener("touchmove",function(o){_.push(N(o.changedTouches[0]))},!1),I.addEventListener("touchend",function(I){(function(){for(var t=_.map(function(o){return{x:-o.clientY,y:-o.clientX}}),e=function(o,n,t){return t.y-(o.y+(n.y-o.y)/(n.x-o.x)*(t.x-o.x))},i=function(o,n){return Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2))},u=0,d=0,C=0,a=2;a<t.length;a++)t[a-1].x-t[a-2].x!=0&&(e(t[a-2],t[a-1],t[a])>r.CW_CC_TOL*i(t[a-2],t[a-1])?u+=1:e(t[a-2],t[a-1],t[a])<-r.CW_CC_TOL*i(t[a-2],t[a-1])?d+=1:C+=1);var f=T;(function(o){for(var n=0,t=1;t<o.length;t++)n+=i(o[t-1],o[t]);return n})(t)>r.MIN_SWIPE_DIST&&(u/(u+d+C+Number.EPSILON)>r.CW_CC_RATIO?(o,c===o?E+=1:(c=o,E=1),E>=r.NUM_SWIPES_NEEDED&&(T=o)):d/(u+d+C+Number.EPSILON)>r.CW_CC_RATIO&&(n,c===n?E+=1:(c=n,E=1),E>=r.NUM_SWIPES_NEEDED&&(T=n)));T===o&&f!==o?S():T===n&&f!==n&&h()})(),function(){var o=_.reduce(function(o,n){return o+n.clientY},0)/_.length,n=$(window).height(),c=r.TOP_SECTION_RATIO+r.MIDDLE_SECTION_RATIO+r.BOTTOM_SECTION_RATIO;o<=n*r.TOP_SECTION_RATIO/c&&u!==t?(d++,C=0,a=0):o<=n*(r.TOP_SECTION_RATIO+r.MIDDLE_SECTION_RATIO)/c&&u!==e?(d=0,C++,a=0):u!==i&&(d=0,C=0,a++);d>=r.NUM_TOUCHES_NEEDED&&u!==t?(O(),u=t,d=0):C>=r.NUM_TOUCHES_NEEDED&&u!==e?(u=e,l(),C=0):a>=r.NUM_TOUCHES_NEEDED&&u!==i&&(u=i,f(),a=0)}(),_=[]},!1)}function N(o){return{clientX:o.clientX,clientY:o.clientY}}function s(o){for(property in o)o.hasOwnProperty(property)&&(r[property]=o[property])}function D(r,c){r===o||r===n?($("*").removeClass(o+" "+n),$("*").addClass(r)):r!==i&&r!==e&&r!==t||($("*").removeClass(i+" "+e+" "+t),$("*").addClass(r))}this.set=function(){arguments[0]&&"object"==typeof arguments[0]&&s(arguments[0])}};